Prototype 
======

## About ##
リアルタイムで他のプレイヤーとの協力・ダンジョン探索・バトルが出来るオンラインブラウザーゲーム。

1つのマップに最大30人が同時接続可能。マップはプレイするたびにランダムで生成される。

ユーザー情報はサーバ上のDBに保存されており、ログインすれば次回も続きからプレイ可能。

PC・スマホ両対応。

## Install ##
mongodbが起動した状態で
```bash
npm install
node app.js
```


## How to play ##
### PC ###
* 矢印キーで上下左右に移動
* スペースキーで攻撃
* ZキーでSOS発信(HPが0のときのみ)
* Xキーでリトライ(HPが0のときのみ) 

### スマートフォン ###
* 画面の上部タッチで上に移動
* 右部分タッチで右に移動
* 左部分タッチで左に移動
* 下部分タッチで下に移動
* 画面下部のボタンで攻撃

## Rule ##
### Quest ###
迷路のようなダンジョン内にて階段を探し、より最下層を目指す。

落ちているヒマワリの種を取ることでHPの回復が可能。

HPが0になるとSOSコマンドを発信可能。SOSコマンドを発している人に、他のプレイヤーが触れるとその場でHPが全回復し、復活可能。

SOSに失敗、またはリトライを押すと再び地下1階から開始。


### Battle ###

正方形のステージで対人戦を行う。


## Test ##
mongodbが起動した状態で

```bash
ulimit -n 65535
make all
```

ファイルディスクリプタの上限を上げておく必要がある。

## TODO ##
* サーバとクライアントで送受信するデータ量の削減
  * public/javascripts/gameObject.js内のgenerateSendDataとimportDiff
* 他のプレイヤーの情報をもっと表示する
  * 「userIDが地下*階に到達しました」
  * 「userIDがenemyNameにやられました」
  * 「userIDがuserIDにやられました/助けられました」
  *　等
* トラップ等のアイテムの実装
* 「オンラインでつながっている」感を出すためにチーム機能
  
  
	






